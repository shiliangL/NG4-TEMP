<form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm($event,validateForm.value)">
    <div nz-form-item nz-row>
        <div nz-form-label nz-col [nzSpan]="7">
            <label nz-form-item-required>用户名</label>
        </div>
        <div nz-col [nzSpan]="12" nz-form-control [nzValidateStatus]="getFormControl('userName')" nzHasFeedback>
            <nz-input formControlName="userName" [(ngModel)]="user.name" [nzType]="'text'" [nzPlaceHolder]="'用户名'" [nzSize]="'large'">
            </nz-input>
            <div nz-form-explain *ngIf="getFormControl('userName').dirty&&getFormControl('userName').hasError('required')">请输入用户名!</div>
            <div nz-form-explain *ngIf="getFormControl('userName').dirty&&getFormControl('userName').hasError('duplicated')">用户名已存在，不能重复添加!</div>
            <div nz-form-explain *ngIf="getFormControl('userName').dirty&&getFormControl('userName').pending">校检中...</div>
        </div>
    </div>
    <div nz-form-item nz-row>
        <div nz-form-label nz-col [nzSpan]="7">
            <label nz-form-item-required>年龄</label>
        </div>
        <div nz-col [nzSpan]="12" nz-form-control [nzValidateStatus]="getFormControl('age')" nzHasFeedback>
            <nz-input formControlName="age" [(ngModel)]="user.age" [nzType]="'text'" [nzPlaceHolder]="'年龄'" [nzSize]="'large'">
            </nz-input>
            <div nz-form-explain *ngIf="getFormControl('age').dirty&&getFormControl('age').hasError('required')">请输入年龄!</div>
            <div nz-form-explain *ngIf="getFormControl('age').dirty&&getFormControl('age').hasError('duplicated')">请输入正确的年龄!</div>
        </div>
    </div>
    <div *ngIf="operation === 1" nz-form-item nz-row>
        <div nz-col [nzSpan]="7" nz-form-label>
            <label nz-form-item-required>密码</label>
        </div>
        <div>
            <div nz-col [nzSpan]="12" nz-form-control [nzValidateStatus]="getFormControl('password')" nzHasFeedback>
                <nz-input formControlName="password" [(ngModel)]="user.password" [nzPlaceHolder]="'密码'" [nzType]="'password'" [nzSize]="'large'"
                    (ngModelChange)="validateConfirmPassword()">
                </nz-input>
                <div nz-form-explain *ngIf="getFormControl('password').dirty&&getFormControl('password').hasError('required')">请输入密码!</div>
            </div>
        </div>
    </div>
    <div *ngIf="operation === 1" nz-form-item nz-row>
        <div nz-col [nzSpan]="7" nz-form-label>
            <label nz-form-item-required>确认密码</label>
        </div>
        <div nz-col [nzSpan]="12" nz-form-control [nzValidateStatus]="getFormControl('passwordConfirmation')" nzHasFeedback>
            <nz-input formControlName="passwordConfirmation" [nzType]="'password'" [nzPlaceHolder]="'确认密码'" [nzSize]="'large'">
            </nz-input>
            <div nz-form-explain *ngIf="getFormControl('passwordConfirmation').dirty&&getFormControl('passwordConfirmation').hasError('required')">请确认密码!</div>
            <div nz-form-explain *ngIf="getFormControl('passwordConfirmation').dirty&&getFormControl('passwordConfirmation').hasError('confirm')">两次密码输入不一致!</div>
        </div>
    </div>
    <div nz-form-item nz-row>
        <div nz-col [nzOffset]="7" [nzSpan]="12" nz-form-control>
            <button nz-button [nzType]="'primary'" [nzSize]="'large'" [nzLoading]="loading" [disabled]="!validateForm.valid">提交</button>
            <button nz-button [nzSize]="'large'" (click)="resetForm($event)">重置</button>
        </div>
    </div>
</form>
